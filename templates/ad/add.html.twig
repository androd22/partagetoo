{% extends 'base.html.twig' %}

{% block content %}
    <div class="container my-5">
        <div class="row">
            <div class="col-md-5 mx-auto">
                <h1 class="my-4 text-center">Cr√©ez votre annonce</h1>
                {{ form(form) }}
            </div>
        </div>
    </div>

{% endblock %}



{% block javascripts %}


    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.ckeditor.com/4.22.1/standard/ckeditor.js"></script>
    <script>

        CKEDITOR.replace( 'ad_description' )

        function slugify(str) {
            return String(str)
                .normalize('NFKD') // split accented characters into their base characters and diacritical marks
                .replace(/[\u0300-\u036f]/g, '') // remove all the accents, which happen to be all in the \u03xx UNICODE block.
                .trim() // trim leading or trailing whitespace
                .toLowerCase() // convert to lowercase
                .replace(/[^a-z0-9 -]/g, '') // remove non-alphanumeric characters
                .replace(/\s+/g, '-') // replace spaces with hyphens
                .replace(/-+/g, '-'); // remove consecutive hyphens
        }
        document.querySelector('#ad_title').addEventListener('input', function() {
            document.querySelector('#ad_slug').value = slugify(this.value);
        });




    </script>
{% endblock %}
